<ui:composition template="/WEB-INF/templates/defaultComponentBase.xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:showcase="http://java.sun.com/jsf/composite/cc"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:b="http://butterfaces.larmic.de/components">

    <ui:define name="header">
        <strong>b:table</strong> The table tag renders an HTML element of the type "table".
    </ui:define>

    <ui:define name="tagsContainers">
        <showcase:tagsContainer label="Tag attributes">
            <showcase:tagBooleanControl label="rendered" value="#{tableShowcaseComponent.rendered}"/>
            <showcase:tagBooleanControl label="tableBordered" value="#{tableShowcaseComponent.tableBordered}"/>
            <showcase:tagBooleanControl label="tableCondensed" value="#{tableShowcaseComponent.tableCondensed}"/>
            <showcase:tagBooleanControl label="tableStriped" value="#{tableShowcaseComponent.tableStriped}"/>
            <showcase:tagBooleanControl label="showRefreshButton" value="#{tableShowcaseComponent.showRefreshButton}"/>
            <showcase:tagBooleanControl label="showToggleColumnButton"
                                        value="#{tableShowcaseComponent.showToggleColumnButton}"/>
        </showcase:tagsContainer>

        <showcase:tagsContainer label="Tag controls">
            <showcase:tagEnumControl label="ajax selection"
                                     value="#{tableShowcaseComponent.selectionAjaxType}"
                                     values="#{tableShowcaseComponent.ajaxSelectionTypes}"/>
            <showcase:tagEnumControl label="column width"
                                     value="#{tableShowcaseComponent.fourthColumnWidthType}"
                                     values="#{tableShowcaseComponent.twoColumnWidthTypes}"/>
            <showcase:tagEnumControl label="table model"
                                     value="#{tableShowcaseComponent.tableModelType}"
                                     values="#{tableShowcaseComponent.tableModelTypes}"/>
        </showcase:tagsContainer>
    </ui:define>

    <ui:define name="output">

        <h:panelGroup layout="block"
                      styleClass="alert alert-warning"
                      rendered="#{!(tableShowcaseComponent.selectionAjaxType eq 'AJAX')}">
            <strong>Attention:</strong> Table selection will only work in ajax mode.
            <h:panelGroup rendered="#{!(tableShowcaseComponent.tableModelType eq 'NONE')}">Table model will only work
            in ajax mode.</h:panelGroup>
        </h:panelGroup>

        <h:panelGroup layout="block"
                      styleClass="alert alert-warning"
                      rendered="#{tableShowcaseComponent.tableModelType eq 'NONE' and tableShowcaseComponent.selectionAjaxType eq 'AJAX'}">
            <strong>Attention:</strong> Column show and hide information will not be stored when not using a table model.
            Try toggling columns and and press refresh button. In this case column hide information will be used by checking
            hideColumn attribute.
        </h:panelGroup>

        <h:panelGroup layout="block"
                      styleClass="alert alert-warning"
                      rendered="#{!(tableShowcaseComponent.tableModelType eq 'NONE') and tableShowcaseComponent.selectionAjaxType eq 'AJAX'}">
            <strong>Attention:</strong> Column show and hide information will be stored when using a table model. When
            using a table model column attribute hideColumn will be ignored if a corresponding information is found in model.
        </h:panelGroup>

        <b:table var="rowItem"
                 value="#{tableShowcaseComponent.stringRows}"
                 singleSelectionListener="#{tableShowcaseComponent}"
                 model="#{tableShowcaseComponent.tableModel}"
                 tableCondensed="#{tableShowcaseComponent.tableCondensed}"
                 tableStriped="#{tableShowcaseComponent.tableStriped}"
                 tableBordered="#{tableShowcaseComponent.tableBordered}"
                 showRefreshButton="#{tableShowcaseComponent.showRefreshButton}"
                 showToggleColumnButton="#{tableShowcaseComponent.showToggleColumnButton}"
                 rendered="#{tableShowcaseComponent.rendered and !(tableShowcaseComponent.selectionAjaxType eq 'NONE')}">
            <f:ajax render="output:nodeTitle"
                    disabled="#{tableShowcaseComponent.selectionAjaxType eq 'AJAX_DISABLED'}"/>
            <b:column id="column1"
                      colWidth="#{tableShowcaseComponent.colWidthColumn1}"
                      label="Readonly text">
                #{rowItem.a}
            </b:column>
            <b:column id="column2"
                      colWidth="#{tableShowcaseComponent.colWidthColumn2}"
                      label="Input text">
                <h:inputText value="#{rowItem.b}"/>
            </b:column>
            <b:column id="column3"
                      colWidth="#{tableShowcaseComponent.colWidthColumn3}"
                      label="Action">
                <b:commandLink value="doSomething"
                               styleClass="btn btn-warning btn-xs"
                               action="#{tableShowcaseComponent.doSomethingWithRow(rowItem)}">
                    <f:ajax execute="@this" render="output:nodeTitle"/>
                </b:commandLink>
            </b:column>
            <b:column colWidth="#{tableShowcaseComponent.colWidthColumn4}"
                      hideColumn="true"
                      label="Readonly text (default hide)">
                #{rowItem.a}
            </b:column>
        </b:table>

        <b:table var="rowItem"
                 value="#{tableShowcaseComponent.stringRows}"
                 singleSelectionListener="#{tableShowcaseComponent}"
                 rendered="#{tableShowcaseComponent.rendered and tableShowcaseComponent.selectionAjaxType eq 'NONE'}">
            <b:column id="column1"
                      colWidth="#{tableShowcaseComponent.colWidthColumn1}"
                      label="C1">
                #{rowItem.a}
            </b:column>
            <b:column id="column2"
                      colWidth="#{tableShowcaseComponent.colWidthColumn2}"
                      label="C2">
                <h:inputText value="#{rowItem.b}"/>
            </b:column>
            <b:column id="column3"
                      colWidth="#{tableShowcaseComponent.colWidthColumn3}"
                      label="C3">
                <b:commandLink value="doSomething"
                               styleClass="btn btn-warning btn-xs"
                               action="#{tableShowcaseComponent.doSomethingWithRow(rowItem)}">
                    <f:ajax execute="@this" render="output:nodeTitle"/>
                </b:commandLink>
            </b:column>
            <b:column colWidth="#{tableShowcaseComponent.colWidthColumn4}"
                      hideColumn="true"
                      label="Readonly text (default hide)">
                #{rowItem.a}
            </b:column>
        </b:table>

        <h:panelGroup id="nodeTitle"
                      layout="block">
            <hr/>

            <h:panelGroup layout="block" styleClass="input-group"
                          rendered="#{tableShowcaseComponent.selectionAjaxType eq 'AJAX'}">
                <span class="input-group-addon">Table selected value:</span>
                <h:outputText value="#{tableShowcaseComponent.selectedValue.a}"
                              rendered="#{not empty tableShowcaseComponent.selectedValue}"
                              styleClass="form-control arquillian_output_value"/>
                <h:outputText value="-"
                              rendered="#{empty tableShowcaseComponent.selectedValue}"
                              styleClass="form-control arquillian_output_value"/>
            </h:panelGroup>

            <div class="input-group">
                <span class="input-group-addon">Button selected value:</span>
                <h:outputText value="#{tableShowcaseComponent.doSomethingWithRow}"
                              rendered="#{not empty tableShowcaseComponent.doSomethingWithRow}"
                              styleClass="form-control arquillian_output_value"/>
                <h:outputText value="-"
                              rendered="#{empty tableShowcaseComponent.doSomethingWithRow}"
                              styleClass="form-control arquillian_output_value"/>
            </div>
        </h:panelGroup>
    </ui:define>

    <ui:define name="other">
        <showcase:showcaseExampleComponent component="#{tableShowcaseComponent}"/>

        <script type="text/javascript">
            jQuery(document).ready(function () {
                setActiveNavigation('table');
            });
        </script>
    </ui:define>
</ui:composition>
