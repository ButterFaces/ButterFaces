<ui:composition template="/WEB-INF/templates/defaultComponentBase.xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:showcase="http://java.sun.com/jsf/composite/cc"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:b="http://butterfaces.larmic.de/components">

    <ui:define name="header">
        <strong>b:table</strong> The table tag renders an HTML element of the type "table".
    </ui:define>

    <ui:define name="tagsContainers">
        <showcase:tagsContainer label="Tag attributes">
            <showcase:tagBooleanControl label="rendered" value="#{tableShowcaseComponent.rendered}"/>
            <showcase:tagBooleanControl label="tableBordered" value="#{tableShowcaseComponent.tableBordered}"/>
            <showcase:tagBooleanControl label="tableCondensed" value="#{tableShowcaseComponent.tableCondensed}"/>
            <showcase:tagBooleanControl label="tableStriped" value="#{tableShowcaseComponent.tableStriped}"/>
            <showcase:tagEnumControl label="column width"
                                     value="#{tableShowcaseComponent.twoColumnWidthType}"
                                     values="#{tableShowcaseComponent.twoColumnWidthTypes}"/>
        </showcase:tagsContainer>

        <showcase:tagsContainer label="Tag controls">
            <showcase:tagEnumControl label="ajax selection"
                                     value="#{tableShowcaseComponent.selectionAjaxType}"
                                     values="#{tableShowcaseComponent.ajaxSelectionTypes}"/>
        </showcase:tagsContainer>
    </ui:define>

    <ui:define name="output">

        <h:panelGroup layout="block"
                      styleClass="alert alert-warning"
                      rendered="#{!(tableShowcaseComponent.selectionAjaxType eq 'AJAX')}">
            <strong>Attention:</strong> Table selection will only work in ajax mode.
        </h:panelGroup>

        <b:table var="rowItem"
                 value="#{tableShowcaseComponent.stringRows}"
                 singleSelectionListener="#{tableShowcaseComponent}"
                 tableCondensed="#{tableShowcaseComponent.tableCondensed}"
                 tableStriped="#{tableShowcaseComponent.tableStriped}"
                 tableBordered="#{tableShowcaseComponent.tableBordered}"
                 rendered="#{tableShowcaseComponent.rendered and !(tableShowcaseComponent.selectionAjaxType eq 'NONE')}">
            <f:ajax render="output:nodeTitle" disabled="#{tableShowcaseComponent.selectionAjaxType eq 'AJAX_DISABLED'}"/>
            <b:column id="column1"
                      colWidth="#{tableShowcaseComponent.colWidthColumn1}"
                      label="C1">
                #{rowItem.a}
            </b:column>
            <b:column id="column2"
                      colWidth="#{tableShowcaseComponent.colWidthColumn2}"
                      label="C2">
                <h:inputText value="#{rowItem.b}"/>
            </b:column>
        </b:table>

        <b:table var="rowItem"
                 value="#{tableShowcaseComponent.stringRows}"
                 singleSelectionListener="#{tableShowcaseComponent}"
                 rendered="#{tableShowcaseComponent.rendered and tableShowcaseComponent.selectionAjaxType eq 'NONE'}">
            <b:column id="column1"
                      label="C1">
                #{rowItem.a}
            </b:column>
            <b:column id="column2"
                      label="C2">
                <h:inputText value="#{rowItem.b}"/>
            </b:column>
        </b:table>

        <h:panelGroup layout="block"
                      rendered="#{tableShowcaseComponent.selectionAjaxType eq 'AJAX'}">
            <hr/>

            <div class="input-group">
                <span class="input-group-addon">Selected value:</span>
                <h:panelGroup id="nodeTitle" layout="block">
                    <h:outputText value="#{tableShowcaseComponent.selectedValue.a}"
                                  rendered="#{not empty tableShowcaseComponent.selectedValue}"
                                  styleClass="form-control arquillian_output_value"/>
                    <h:outputText value="-"
                                  rendered="#{empty tableShowcaseComponent.selectedValue}"
                                  styleClass="form-control arquillian_output_value"/>
                </h:panelGroup>
            </div>
        </h:panelGroup>
    </ui:define>

    <ui:define name="other">
        <showcase:showcaseExampleComponent component="#{tableShowcaseComponent}"/>

        <script type="text/javascript">
            jQuery(document).ready(function () {
                setActiveNavigation('table');
            });
        </script>
    </ui:define>
</ui:composition>
